<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	xmlns:sec="http://www.springframework.org/security/tags">
	
	<h:form>
		<p:panel id="warehouseInfoHs">

			<p:dialog id="create-warehouseInfoH-panel" widgetVar="createWarehouseInfoHDialog" header="#{out.newWarehouseInfoHHeader}">
				<p:outputPanel style="float: left;">
					<h:outputText value="#{out.device}:" />
					<p:selectOneMenu value="#{warehouseController.newDeviceWarehouseInfoH.deviceWarehouseInfo.id}" filter="true" filterMatchMode="startsWith">
						<f:selectItems value="#{warehouseController.selectedWarehouseInfos}" var="warehouseInfo" itemLabel="#{warehouseInfo.deviceBasedata.manufacturer} #{warehouseInfo.deviceBasedata.type}" itemValue="#{warehouseInfo.id}" />
					</p:selectOneMenu>
					<br />
					<h:outputText value="#{out.count}:" />
					<p:inputText type="number" value="#{warehouseController.newDeviceWarehouseInfoH.count}" />
					<br />
					<p:commandButton value="#{out.create}">
						<p:ajax listener="#{warehouseController.addWarehouseInfoH}" update="warehouseInfoHs" process="@form" />
					</p:commandButton>
				</p:outputPanel>
			</p:dialog>

			<p:commandButton type="button" onclick="PF('createWarehouseInfoHDialog').show()" value="#{out.newWarehouseInfoHButton}" />
			<p:dataTable var="warehouseInfoH" value="#{warehouseController.selectedWarehouseInfoHs}" selectionMode="single"
				rowKey="#{warehouseInfoH.id}">
				
				
				<p:column headerText="#{out.device}">
					<h:outputText value="#{warehouseInfoH.deviceWarehouseInfo.deviceBasedata.manufacturer} #{warehouseInfoH.deviceWarehouseInfo.deviceBasedata.type}" />
				</p:column>

				<p:column headerText="#{out.count}">
					<h:outputText value="#{warehouseInfoH.count}" />
				</p:column>

				<p:column headerText="#{out.createrUser}">
					<h:outputText value="#{warehouseInfoH.user.name}"/>
				</p:column>

				<p:column headerText="#{out.createDate}">
					<h:outputText value="#{warehouseInfoH.createDate}" />
				</p:column>
				
			</p:dataTable>

		</p:panel>
	</h:form>
	
</ui:composition>